---
phase: 01-secure-foundation
plan: 09
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/BotCard.tsx
  - src/app/globals.css
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Profile cards display bot avatar/icon placeholder"
    - "LLM model is prominently displayed at the top of the card"
    - "Stats show actual skill/mcp/cli names, not just counts"
    - "Hover effect complements the cream background"
    - "Typography hierarchy is clear and readable"
  artifacts:
    - path: "src/components/BotCard.tsx"
      provides: "Redesigned bot card with avatar, visible LLM, item lists"
      exports: ["BotCard", "BotCardProfile"]
      min_lines: 150
    - path: "src/app/globals.css"
      provides: "Updated hover effect styling"
      contains: "retro-card-hover"
  key_links:
    - from: "src/components/BotCard.tsx"
      to: "BotCardProfile interface"
      via: "Profile data structure"
    - from: "BotCard stats display"
      to: "profile.skills/mcps/clis arrays"
      via: "Item list rendering with overflow"
---

<objective>
Fix Gap 4: Profile Card Design Issues

Purpose: Redesign BotCard component to address 4 critical design flaws: (1) Missing avatar placeholder, (2) LLM buried at bottom in tiny text, (3) StatItem only shows counts not actual item names, (4) Bad hover effect that clashes with cream background.

Output: Redesigned BotCard with avatar/icon, prominent LLM badge at top, item lists showing actual names with overflow indicator, and improved hover effect.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/phases/01-secure-foundation/01-secure-foundation-UAT.md
@src/components/BotCard.tsx
@src/app/globals.css

## Gap 4 Details (from UAT.md Test 7)
- **Truth**: Profile cards display bot avatar, name, description, core stats (LLM, Harness), skills badges with overflow indicator (+N), MCP badges, and 'View Profile' button
- **Status**: Failed
- **User reported**: "profile cards have to be redone to present the datalist beautifully. with excellent typographical hierachy. there is no botavatar placeholder, LLM is super important but is almost not visible. stats like 6 skills, 3 mcps 2 clis say nothing, it needs to say which are used, and if too many are used maybe do show more and total amount. The card is cream but on hover gray shadow becomes forground - its really bad visually."
- **Root cause**: 
  1. No avatar placeholder - no visual bot identifier
  2. LLM at bottom in 9px text - not prominent enough
  3. StatItem shows only counts (6, 3, 2) - doesn't show actual item names
  4. Hover changes shadow to gray - clashes with cream background

## Current Issues in BotCard.tsx
- Lines 52-54: BOT_NAME label in 9px uppercase
- Lines 62-69: Harness/version badges in 9px
- Lines 72-79: Description section with 9px/10px text
- Lines 81-97: StatItem grid showing only counts
- Lines 99-108: LLM at bottom in 9px text
- Lines 110-112: Hover opacity transition

## Current Issues in globals.css
- Lines 129-131: .retro-card:hover::after changes background to accent-secondary (gray), clashes with cream card
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign BotCard layout with avatar and prominent LLM</name>
  <files>src/components/BotCard.tsx</files>
  <action>
    Completely redesign the BotCard component layout:
    
    1. **Add avatar/icon placeholder at the top**:
       - Create a getBotIcon() helper function that generates an icon based on bot name
       - Use first letter of bot name with a colored background
       - Position at top-left of card header
       - Size: 40x40px with border
    
    2. **Move LLM to prominent position**:
       - Move LLM badge to top of card, right of name
       - Use larger text (text-xs instead of text-[9px])
       - Use accent color background to make it stand out
       - Label as "LLM: {primary}" with fallbacks indicated
    
    3. **Restructure card header**:
       ```
       [Avatar] [Name + Version] [LLM Badge]
                [Harness Badge]
       ```
    
    4. **Update text sizes**:
       - BOT_NAME label: text-[10px] -> text-xs
       - Bot name: text-sm -> text-base (font-bold)
       - All labels: text-[9px] -> text-[10px]
       - Description: text-[10px] -> text-xs
       - LLM display: text-[9px] -> text-xs
    
    5. **Remove or redesign the "VIEW_DETAILS" hover text**:
       - Replace with a proper button or cleaner indicator
    
    Lines to modify: Entire component (rewrite recommended for cleaner structure)
  </action>
  <verify>grep -q "getBotIcon\|avatar\|Avatar" src/components/BotCard.tsx && grep -q "LLM.*primary" src/components/BotCard.tsx</verify>
  <done>BotCard has avatar placeholder, LLM prominently displayed at top, improved text sizes</done>
</task>

<task type="auto">
  <name>Task 2: Replace StatItem counts with item name lists</name>
  <files>src/components/BotCard.tsx</files>
  <action>
    Replace the StatItem grid with actual item name displays:
    
    1. **Remove the StatItem grid** (lines 81-97):
       - Delete the 3-column grid showing counts only
       - Delete the StatItem component
    
    2. **Add ItemList component** for skills, MCPs, and CLIs:
       ```typescript
       interface ItemListProps {
         items: string[];
         label: string;
         maxDisplay?: number;
         colorClass?: string;
       }
       
       function ItemList({ items, label, maxDisplay = 3, colorClass }: ItemListProps) {
         if (items.length === 0) return null;
         const displayItems = items.slice(0, maxDisplay);
         const remaining = items.length - maxDisplay;
         
         return (
           <div className="mb-2">
             <div className="text-[10px] uppercase text-[var(--color-text-secondary)] mb-1">
               {label} ({items.length})
             </div>
             <div className="flex flex-wrap gap-1">
               {displayItems.map((item) => (
                 <span
                   key={item}
                   className={cn(
                     "px-2 py-0.5 text-[10px] border border-[var(--color-border-strong)]",
                     colorClass || "bg-[var(--color-bg-secondary)]"
                   )}
                 >
                   {item}
                 </span>
               ))}
               {remaining > 0 && (
                 <span className="px-2 py-0.5 text-[10px] bg-[var(--color-bg-secondary)] border border-[var(--color-border-strong)]">
                   +{remaining}
                 </span>
               )}
             </div>
           </div>
         );
       }
       ```
    
    3. **Add ItemList instances for each category**:
       - Skills: accent-primary color
       - MCPs: accent-success color
       - CLIs: accent-warning color
    
    4. **Position after description, before footer**:
       - Show skills first (most important)
       - Then MCPs
       - Then CLIs (if any)
    
    This shows actual item names (github, filesystem, terminal) instead of just counts (3).
  </action>
  <verify>grep -q "ItemList\|displayItems" src/components/BotCard.tsx && grep -q "remaining > 0" src/components/BotCard.tsx</verify>
  <done>BotCard displays actual skill/mcp/cli names with overflow indicator (+N)</done>
</task>

<task type="auto">
  <name>Task 3: Fix hover effect to complement cream background</name>
  <files>src/app/globals.css</files>
  <action>
    Update the retro-card hover effect to complement the cream background:
    
    1. **Current problematic style** (lines 129-131):
       ```css
       .retro-card:hover::after {
         background-color: var(--color-accent-secondary); /* gray - clashes with cream */
       }
       ```
    
    2. **Replace with complementary hover effect**:
       ```css
       .retro-card:hover::after {
         background-color: var(--color-accent-primary); /* brown - matches theme */
         transform: translate(2px, 2px); /* subtle shift */
       }
       
       .retro-card:hover {
         transform: translate(-1px, -1px); /* card lifts slightly */
       }
       
       .retro-card {
         transition: transform 0.15s ease;
       }
       ```
    
    3. **Alternative: Add border highlight on hover**:
       ```css
       .retro-card:hover {
         border-color: var(--color-accent-primary);
         box-shadow: 0 0 0 1px var(--color-accent-primary);
       }
       ```
    
    4. **Ensure the hover state is visible but not jarring**:
       - Keep the brown accent color (color-accent-primary: #b45309)
       - Add subtle transform for depth
       - Avoid gray which clashes with cream (#fefce8)
    
    Lines to modify: 129-131 in globals.css
  </action>
  <verify>grep -A 3 "retro-card:hover::after" src/app/globals.css | grep -q "transform\|transition"</verify>
  <done>Hover effect complements cream background with brown accent and subtle transform</done>
</task>

</tasks>

<verification>
**Gap 4 Closure Verification:**

1. **Avatar**: BotCard displays an icon/avatar based on bot name
2. **LLM prominence**: LLM badge is at top of card with larger text and accent color
3. **Item names**: Skills/MCPs/CLIs show actual names (github, filesystem) not just counts
4. **Overflow**: More than 3 items shows "+N" indicator
5. **Hover effect**: Cream card with brown accent shadow, no gray clash
6. **Typography**: All text sizes increased from 8-9px to 10px minimum
</verification>

<success_criteria>
- [ ] BotCard has avatar/icon placeholder (40x40px with initial)
- [ ] LLM displayed prominently at top with accent styling
- [ ] Skills show actual names (e.g., "github", "filesystem") with +N overflow
- [ ] MCPs show actual names with +N overflow
- [ ] CLIs show actual names with +N overflow
- [ ] Hover effect uses brown accent, complements cream background
- [ ] Text sizes minimum 10px, labels 10px, content xs (12px)
- [ ] Card layout has clear visual hierarchy
</success_criteria>

<output>
After completion, create `.planning/phases/01-secure-foundation/01-09-SUMMARY.md`
</output>
