---
phase: 01-secure-foundation
plan: 06
type: execute
wave: 1
depends_on: []
files_modified: [packages/cli/README.md, packages/cli/package.json]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Users can successfully run the CLI with --help and see full help output"
    - "Documentation clearly explains how to clear npx cache or use @latest"
    - "Package.json scripts include helpful npx usage hints"
  artifacts:
    - path: "packages/cli/README.md"
      provides: "Installation and usage documentation"
      contains: "npx cache clearing instructions"
    - path: "packages/cli/package.json"
      provides: "Package metadata"
      contains: "keywords, description for npm search"
  key_links:
    - from: "README.md"
      to: "npm registry"
      via: "npx botarena@latest"
---

<objective>
Fix Gap 1: CLI Help Output Issue

Purpose: Users running `npx botarena --help` see cached v0.0.2 stub instead of real CLI. This is a documentation/UX issue, not a code bug.

Output: Updated README.md with clear instructions on clearing npx cache and using @latest flag
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/phases/01-secure-foundation/01-secure-foundation-UAT.md

## Gap 1 Details (from UAT.md)
- **Truth**: Running `npx botarena --help` displays BotArena CLI help output
- **Status**: Failed
- **Root cause**: Version 0.0.2 was a placeholder stub package published before CLI was fully implemented. Users had cached version showing only 'coming soon' message.
- **Missing**: User needs to clear npx cache or use explicit version: `npx botarena@latest --help`

## Current State
- CLI code is complete and functional in src/cli/
- Package published as v0.0.2 with stub cli.js
- Users with cached v0.0.2 see stub instead of real CLI
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update CLI README with npx cache instructions</name>
  <files>packages/cli/README.md</files>
  <action>
    Update packages/cli/README.md to include:
    
    1. Add a "Troubleshooting" section near the top with:
       - Explanation that npx caches packages
       - Command to clear cache: `npx clear-npx-cache` or `rm -rf ~/.npm/_npx`
       - Recommended usage with @latest: `npx botarena@latest --help`
    
    2. Update the "Usage" section to show @latest in all examples:
       - Change `npx botarena` to `npx botarena@latest`
    
    3. Add a note about the v0.0.2 placeholder issue for transparency
    
    Keep the tone helpful and acknowledge the issue without being defensive.
  </action>
  <verify>grep -q "@latest" packages/cli/README.md && grep -q "cache" packages/cli/README.md</verify>
  <done>README.md contains @latest usage examples and cache clearing instructions</done>
</task>

<task type="auto">
  <name>Task 2: Enhance package.json metadata</name>
  <files>packages/cli/package.json</files>
  <action>
    Update packages/cli/package.json:
    
    1. Add a "postinstall" script or note field explaining:
       "Note: If you see 'coming soon' message, run: npx botarena@latest --help"
    
    2. Ensure keywords include: ["botarena", "cli", "bot", "showcase", "profile"]
    
    3. Add "engines" field if not present: {"node": ">=18.0.0"}
    
    4. Consider adding a "bin" description comment
  </action>
  <verify>cat packages/cli/package.json | grep -q "botarena"</verify>
  <done>package.json has improved metadata and helpful hints</done>
</task>

</tasks>

<verification>
- [ ] README.md contains @latest usage pattern
- [ ] README.md has troubleshooting section with cache clearing
- [ ] package.json has appropriate keywords and metadata
- [ ] Documentation addresses the v0.0.2 stub issue transparently
</verification>

<success_criteria>
Users encountering the cached stub issue can find the solution immediately in README.md. The documentation clearly explains to use `npx botarena@latest` to bypass cache issues.
</success_criteria>

<output>
After completion, create `.planning/phases/01-secure-foundation/01-06-SUMMARY.md`
</output>
